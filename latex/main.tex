\documentclass{article}
\usepackage[utf8]{inputenc}

\title{Part 1 - Author Interest Diversity}
\author{Ella Guest}
\date{February 2019}

\usepackage{natbib}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{xcolor}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{amsmath}


\begin{document}

\maketitle

\tableofcontents

\listoffigures
 
\listoftables

\section{Methodology Overview}
\begin{itemize}
    \item understand how subreddit communities vary in the extent to which they engage with a diverse range of subreddits
    \item most measures in this section are performed at the author-level, and then aggregated by subreddit
\end{itemize}


\subsection{How does interest diversity vary between subreddits }
For each author I will calculate the number of subreddits they commented in and b) the comment entropy. The subreddit count will give a general idea of author activity on Reddit. The comment entropy will give a better understanding of how equally authors divide their contributions across the subreddits they frequent.


\subsection{How do ‘chamber’ members concentrate within the chamber?}

The literature on echo chamber suggests that confirmation bias encourages people to enter and maintain echo chambers, as we experience pleasure from having our opinions re-affirmed by a group. To test this hypothesis I will determine whether authors who choose to comment in the case study echo chamber spend relatively more time within the chamber than authors in other subreddits. This research question has two sub questions.

\subsubsection{Do chamber members spend more time within the chamber than members of other communities?}

To test this I will measure the in-subreddit ratio for each author, for each subreddit they comment in. The in-subreddit ratio is the number of comments made within the subreddit as a fraction of the total number of comments the author made.

\subsubsection{How does author activity vary within subreddits}

The literature suggests that the majority of participation in online communities is heavily unequal. I seek to determine whether this phenomenon hold for echo chambers. I suggest two two possible scenarios: a) chambers are more unequal as they have a more active core of devoted members, or, conversely b) they are more equal as their members are generally equally devoted. I do not yet have a working hypothesis based on the literature on which direction echo chamber participation should be theorised to lean, though my intuition is A.

To measure participation inequality I will first use the same entropy measure from 1.1. This subreddit author entropy will look at the range in number of comments made by all authors. I will then use a more traditional measure of participation inequality, though I have not yet determined which. Options include the gini coefficient and the Pareto principle but I need to do a small literature review to determine which measure has been most appropriately and successfully used for online communities.


\subsection{Diversity Measures}
For each subreddit $y_i$ there are $n$ comment authors. For the $nth$ author in subreddit $y_i$ there are $x_n$ number of comments, such that for each subreddit we have the vector:

$$y_i = [x_1, x_2, \cdots x_n]$$

I then use this vector to calculate each of the diversity measures (entropy, blau, gini).


\subsubsection{Entropy} \label{entropy}

"Information entropy is the average rate at which information is produced by a stochastic source of data." The lower the probability of a value, the greater the "information" it carries. The higher the entropy, the greater the disorder or uncertainty.

Within the context of subreddits, if an author only makes a few comments in the subreddit, any new content they bring to subreddit provides relatively more information... Therefore the higher a subreddit's entropy the greater the diversity...


$$Entropy = -\sum p_ilog(p_i)$$

where $p_i$ is the probability of value $x_i$;

$$p_i = \frac{x_i}{\sum x}$$

The maximum entropy for a subreddit is $log(n)$ thus be can normalise entropy as:

$$Entropy_{norm} = \frac{Entropy}{log(n)}$$

\subsubsection{Blau index} \label{blau index}

The Blau index is also known as the Gini-Simpson index, or the Gibbs-Martin index. The Blau index of diversity has a range of 0 to 1, where 0 means the population is perfectly homogeneous, and 1 means the population if perfectly heterogeneous. Therefore the higher the a subreddit's blau, the more heterogeneous the distribution of comments amongst authors, the greater the diversity.


\textcolor{red}{Need to look into using 'true diversity' or normalised blau - may be more informative for more active subreddits (and more correlated to entropy). Can the "effective number of types" show a diversity threshold?}

$$Blau = 1 - \sum (\frac{x_i}{\sum x_n})^{2}$$

\subsubsection{Gini coefficient} \label{gini}

The gini coefficient is a measure of inequality in a distribution. It is a ratio between the values of 0 and 1, where 0 means perfect equality and 1 means perfect inequality. Therefore the higher the value of gini for a given subreddit, the more unequally comments are distributed across authors within the subreddit.

$$Gini = \frac{1}{n}(n+1-2\frac{\sum(n+1-i)y_i}{\sum y_i})$$



\section{Analysis}

The example findings are from February 2018, until I re-run the rest of 2018. In February 2018 86,467,179 comments were made across 104,042 subreddits by 4,282,601 authors. At least 6.1\% of comments were later deleted (N=5,317,239).



\subsection{General Trends}

Table \ref{table/all} shows that at least half of subreddits had 3 or fewer unique comment authors in February 2018, and 4 or fewer comments. For both count measures the upper quartile is still smaller that the maximum values. I therefore decided to subset the top decile of subreddits by author count as active communities.


\subsection{Default Subreddits}
50 subreddits were at one time classified as a default. Any new redditor was automatically subscribed to the default subreddits. Reddit used default subreddits until May 2017, but those subreddits appear to still benefit in size from their former visibility.

Figure \ref{hists/active} and Table \ref{table/all} show that authors and comments are very unevenly distributed on Reddit, with the majority of subreddits having fewer than 13 and 26 authors and comments. respectively in the February 2018.

Of the 20 subreddits with more than 60,000 authors 14 are default subreddits. However, of the 16 subreddits with more than 500,000 comments only 7 are defaults. In order to run the analysis, I was to remove inactive subreddits from the sample. Given the substantial difference between the most highly active, subreddits on the top end, and the low upper quartile values, I decide to subset the top decile of subreddits by author count. The analysed subset therefore consists of 10,404 of the original 104,042 subreddits.


\subsection{Subsetting Active Subreddits}
Table \ref{table/all} shows that at least half of subreddits had 3 or fewer unique comment authors in February 2018, and 4 or fewer comments. Both size measures are very highly skewed. I therefore decided to subset the top decile of subreddits by author count as 'active subreddits'. The descriptive 

Either one or both of \textit{author count} and \textit{comment count} could be used as a proxy for level of subreddit activity. In the full dataset the counts have a very strong positive correlation (coef = 0.899). 





\subsection{General Diversity Trends}

As shown in Table \ref{table/active}, the lower quartile for blau is 0.98. 90\% of the subsetted subreddits have a blau value greater than or equal to 0.96.  Thus, blau does not appear to be an informative measure for general trends in active subreddits. However it may still be of use to look into the lower extremes for blau. Table \ref{table/active} shows the blau has a minimum value of 0.078. This outlier way provide insight.

\textcolor{red}{Refer to \ref{blau index} to determine whether the blau index should be normalised.}


\subsection{Entropy vs Gini}
Figure \ref{hists/active} shows the distributions for normalised entropy and gini. Both are normally distributed. Table \ref{table/active} shows that entropy\_norm has quartiles 0.846 / 0.883 / 0.914 and mean 0.873. An average normalised entropy for active subreddits it ~0.87/8. Section \ref{entropy} showed that the higher a subreddit's entropy, the greater it's diversity. As normalised entropy has an upper limit of 1, the average of 0.8 shows that most subreddits have high diversity in terms of the range of authors commenting in the subreddit.

The same table shows that blau has quartiles 0.453 / 0.545 / 0.647 and mean 0.542. An average gini for active subreddits it ~0.54. Section \ref{gini} showed that a gini coefficient of 0 means perfect equality, and 1 means perfect inequality. An average of 0.54 therefore suggests that active subreddits tend to have a mid-level of equality.

Normalised entropy and gini have a Pearson correlation coefficient of 0.771 and a Spearman's rank correlation coefficient of 0.898. The measures of diversity are highly positively correlated. It may be of interest to determine the 



% Tables
\input{latex/table/all.tex}
\input{latex/table/defaults.tex}
\input{latex/table/active.tex}



% Figures
\input{latex/figures.tex}



\section{Robustness Checks}

\subsection{Longitudinal Variation}

Show stability of variable over time

\subsection{Subsetting by Comment Count}

Re-run analysis on another month


\end{document}
